# 幻鱼的NAS自动备份分享

## 备份基础知识

- **备份定义**：至少保留两份一模一样的文件。
- **321原则**：
    - **三份备份**
    - **两种存储媒介**
    - **一份异地存放**

## 我的备份需求

- 不常用资料：**3.7TB**
- 随时存取资料：**500GB**
- 不重要的系统镜像文件：**1TB**
- Minecraft服务器自动备份：**100GB**
- 其他：游戏等不重要文件

## 我的存储设备

- **机械硬盘**：2TB * 2
- **工作区SSD**：500GB
- **NAS**：8TB * 2（RAID1配置）
- **移动硬盘**：4TB、2TB、1TB
- **公共云端硬盘**：1TB + 116GB

## 自动备份策略

- **常用文件**：
    - 存储位置：电脑SSD、NAS、公共云端
    - 工具：SSD与公共云端即时同步，使用Cloud Sync套件定时同步到NAS
- **不常用文件**：
    - 存储位置：电脑硬盘、NAS、移动硬盘
    - 工具：Signaligo Drive桌面应用每周从本机自动同步至NAS
- **移动硬盘备份**：
    - 工具：Synology NAS的USB Copy功能自动备份
- **系统镜像文件**：
    - 存储位置：NAS、1TB移动硬盘（使用空间）
    - 工具：EaseUS Todo Backup或Clonezilla
- **Minecraft服务器备份**：
    - 存储位置：服务器、NAS
    - 工具：自动备份脚本、可能增加脚本实现自动上传及删除旧文件

## 远程存取NAS

- 开启**Quick Connect**功能
- 使用**连接转送**，根据路由器兼容性可能需设定
- **IP固定**：使用DDNS服务如No-IP

## 安全防护

- 开启自动封锁和防护功能以增强信息安全

## 品牌NAS的优势

- 预设配置简化设定工作
- 套件中心提供易用的图形化界面
- 支持Docker，便于开设服务如Bongi Code服务器

**小贴士**：不要忘记按喜欢和订阅，以获得更多相关内容更新。

- 视频链接：[幻鱼的NAS自动备份分享](https://youtu.be/sxcWax1xBvI?si=JHm-j8abUOoq_W7P)
    
- 完整字幕整理如下：
    
    大家好，我是幻鱼。随着素材越堆越多，近期的硬盘空间已经快不够用了。因此前一阵子开箱了一台群晖的NAS，不过那个只是单纯的一个开箱测试。实际使用过了一阵子之后，发现还有很多东西可以补充，于是就有了这一集。既然这是一个品牌NAS，那我们就要善用它的功能。如果能把所有的流程都自动化的话，那会是最好的。其实在买这个NAS之前，我都是手动一个一个把资料复制到移动硬盘里，还需要花很多时间来检查变动，每次都要花费很多时间。直到用了这台NAS之后，我才发現原来备份可以这么简单快速。因此今天我就来分享我如何搭配不同的存储媒介来实现近乎全自动的自动备份，并会提及如何远程存取NAS以及介绍一些实用小套件。
    
    在开始之前，我们要先跟大家澄清一个观念：所谓的备份，并不是把你的资料从手机或电脑丢到NAS或移动硬盘里，然后把手机或电脑里的文件删除就可以称作备份。而是你至少要保留两份以上一模一样的文件，这才叫做备份。而且最好是可以实现321原则，意思就是备份三份，由两种以上不同的存储装置存储，而且其中一份备份要放在不一样的地方。
    
    在知道备份的观念之后，就来看自己有哪些资料要备份以及有哪些装置可以备份。我要备份的资料大概有：不常用的资料3.7TB、需要随时存取的资料大概500GB、比较不重要的系统镜像文件1TB，还有Minecraft团队服务器的自动备份约100GB，剩下就是不重要的文件，像游戏之类的。其中系统镜像文件只是因为我懒得每次都要重装，因此保留一个刚装好程序的干净版，以及最近一次的系统备份。推荐各位如果有多余的空间，都可以备份一下。方法可以参考右上角这个视频。
    
    接下来看一下手上有哪些存储设备：我两颗2T的机械硬盘、一颗500GB的工作区SSD、NAS里面有8T两颗，还有早期备份用的移动硬盘4T、2T、1T共三颗，以及公共云端硬盘1T加116GB。不过NAS的8T是要用来做RAID1的。RAID1是将两颗硬盘里的资料同步备份，这样在一颗硬盘出事的时候，另外一颗硬盘里的资料还可以救援。像我之前拍的这部视频，就好险有RAID1的救援才能够顺利的恢复资料。要不然那次的资料重建可就麻烦了，因为那个时候刚好在做资料分类，有一些文件是没有额外备份的。
    
    现在有了可用的空间以及要存储的资料，我们就可以开始来分配存储空间了。首先分配最重要的文件，也就是常用以及不常用的文件。这里我会至少分配三份异地备份。不常用的文件是指平常不会用到的文件，有可能好几个月才会使用到这些文件一次。因此这些文件除了存在电脑的机械硬盘内，还会存到NAS以及4TB的移动硬盘。另外由于电脑硬盘只有4T，相比其他空间会不够用，因此剩下那个1T的移动硬盘也被我加入了第一份备份的存储空间中，用来存储最少用到的文件。这里如果再加上RAID，就是四份了。这样这个空间最多就可以存储5TB的文件，这样至少应该还可以用一段时间。
    
    接下来是常用的文件，需要500GB的空间。而我第一份备份会存储在电脑的500GB SSD里面，然后再同步到NAS以及公共云端，这样就可以实现至少3份的备份。那系统镜像的部分因为电脑已经没空间了，那这个也比较没那么重要，因此我只用NAS以及刚刚没用完的1TB移动硬盘来做备份。这样算入RAID的话，至少还有三份。
    
    另外是Minecraft服务器的部分，除了在服务器本身有备份外，也同步到NAS中进行备份。接下来只要把移动硬盘拿到其他建筑内，如学校宿舍、亲戚家里或公司存放，就可以实现321备份原则了。
    
    不过这时候你就会问了，备份这么多，整理起来不会很麻烦吗？这个时候如何把备份自动化就很重要了。因此接下来我将介绍我是如何把这个备份流程进行自动化的。
    
    首先，常用的工作区文件每天都有大幅度的变动，因此我是把整颗SSD与公共云端硬盘联动进行即时的同步。然后在NAS上面使用Cloud Sync这个套件，每天固定时间从公共云端硬盘下载更新到NAS中。至于为什么是先同步到公共云端再同步到NAS，这是因为如果我在外使用笔记本要存取这些文件时，为了避免持续占用网络带宽，因此还是会优先存取公共云端上的文件。不过如果带宽足够的话，也是可以直接存取NAS上的文件。
    
    不常用的文件则是使用Signaligo Drive桌面应用程序，每周从本机往NAS自动同步一次。它可以设定排程自动备份，也可以设定即时同步。不过它这里好像不可以讓多个文件夹分别备份到NAS的不同文件夹，有点可惜。希望官方如果有看到这部影片可以更新一下，这样子后续整理文件会更方便一些。
    
    至于移动硬盘的部分也不用担心，Synology NAS有USB Copy这个功能。我们可以使用USB Copy套件设定好全自动备份，以后只要插上移动硬盘，它就会自动备份指定的文件夹到NAS上面。备份完成后还会自动帮你把硬盘退出，非常的贴心。而这里即便是分成多颗移动硬盘也不用擔心，它会自动识别你现在插上的是哪一个硬盘，自动执行对应的备份排程。完成后听到B声，就可以直接把硬盘拔掉了。基本上可以接近是无脑使用的状态，你只要负责插拔的部分就好了。
    
    然后系统镜像则是直接用EaseUS Todo Backup或Clonezilla，可以直接把你的C盘镜像到NAS上面。之后如果要还原，也可以直接从NAS上面下载，然后重复到移动硬盘的部分，也是跟刚刚相同的方式。
    
    最后是我的Minecraft服务器，我们的团队服务器基本上每周会有脚本自动进行备份。不过备份到NAS这一块还没有自动化，之后可能会连上传一起包含到脚本里面，然后顺便加入自动删除旧文件的功能。不过如果你不想用脚本的话，Synology Drive也有提供无帮途的版本可以下载直接使用。
    
    透过以上这些方法，基本上我们就可以几乎不用花时间在备份上了。设定好就可以直接无脑使用了。而我有时候会需要在外使用笔记本存取NAS上的文件，但在外是无法直接存取到NAS的。这时候就需要进行一些设定，你可以到设定裡开啟Quick Connect功能，并打开底下的连接附转送。接着到这个网址输入你的ID，就可以远程连线了。不过这里的连接附转送不是所有的路由器都能用，如果你在这里设定没效的话，你可以参考我之前拍摄开服务器的这部影片。这个影片的描述之间有提到如何开启连接副转送功能。
    
    而如果我们到这个页面可以看到要开启哪些连接副别开错了哦。对了，如果你不是固定IP用户的话，记得去申请个域名或者是DDNS服务。那我是习惯使用No-IP，它是免费的。申请完可以在这里登录你的No-IP资料。
    
    另外，既然是联网设备，那信息安全也需要相当重视。开启之后别忘了把设定裡的自动封锁还有一些防护的功能开一开，这样就可以防止被其他人拆密码。
    
    好了，以上就是这次NAS的一些实用教学。使用品牌NAS的好处就是人家很多東西都已经帮你设定好了，只需要简单设定一下就可以省下很多时间。而且内建的套件中心也可以让你用图形化的方式建立数据库、网站等，甚至还可以Docker的方式开一个Bongi Code服务器。
    
    好，那今天的视频就到这里。如果喜欢这部影片，别忘了按个喜欢。想看其他相关影片，别忘了按个订阅，才可以收到更多相关信息。我们下一部影片见，拜拜。
    
- 思维导图整理如下：
    
    ![幻鱼的NAS自动备份分享.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/5244296e-c60d-4aa3-aaca-e5e28004b33e/01fe97ec-9e3d-4f7b-b06c-34c74d2da74b/%E5%B9%BB%E9%B1%BC%E7%9A%84NAS%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD%E5%88%86%E4%BA%AB.png)